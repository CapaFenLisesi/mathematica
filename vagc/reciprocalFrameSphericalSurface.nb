(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[      7454,        213]
NotebookOptionsPosition[      7067,        195]
NotebookOutlinePosition[      7410,        210]
CellTagsIndexPosition[      7367,        207]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell["\<\
Calculate the reciprocal frame vectors for a spherical surface parameterized \
by \[Theta] and \[Phi].\
\>", "Text",
 CellChangeTimes->{{3.6033108969044924`*^9, 3.603310921630907*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"<<", "peeters`"}], " ", ";"}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Module", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "xt", ",", " ", "xp", ",", " ", "r", ",", " ", "re", ",", " ", "rt"}], 
    "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"r", "[", 
      RowBox[{"theta_", ",", " ", "phi_"}], "]"}], " ", "=", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"Sin", "[", "theta", "]"}], " ", 
        RowBox[{"Cos", "[", "phi", "]"}]}], ",", 
       RowBox[{
        RowBox[{"Sin", "[", "theta", "]"}], 
        RowBox[{"Sin", "[", "phi", "]"}]}], ",", " ", 
       RowBox[{"Cos", "[", "theta", "]"}]}], "}"}]}], " ", ";", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"xt", "[", 
      RowBox[{"theta_", ",", " ", "phi_"}], "]"}], " ", "=", " ", 
     RowBox[{"D", "[", 
      RowBox[{
       RowBox[{"r", "[", 
        RowBox[{"theta", ",", " ", "phi"}], "]"}], ",", " ", "theta"}], 
      "]"}]}], " ", ";", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"xp", "[", 
      RowBox[{"theta_", ",", " ", "phi_"}], "]"}], " ", "=", " ", 
     RowBox[{"D", "[", 
      RowBox[{
       RowBox[{"r", "[", 
        RowBox[{"theta", ",", " ", "phi"}], "]"}], ",", " ", "phi"}], "]"}]}],
     " ", ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"re", "[", 
      RowBox[{"theta_", ",", " ", "phi_"}], "]"}], " ", "=", " ", 
     RowBox[{"peeters`reciprocalsForTwoDimSubspace", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"xt", "[", 
         RowBox[{"theta", ",", " ", "phi"}], "]"}], ",", " ", 
        RowBox[{"xp", "[", 
         RowBox[{"theta", ",", " ", "phi"}], "]"}]}], "}"}], "]"}]}], " ", 
    ";", "\[IndentingNewLine]", 
    RowBox[{"rt", " ", "=", " ", 
     RowBox[{
      RowBox[{"re", "[", 
       RowBox[{"\[Theta]", ",", " ", "\[Phi]"}], "]"}], " ", "//", " ", 
      "Simplify"}]}], " ", ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"xt", "[", 
          RowBox[{"\[Theta]", ",", " ", "\[Phi]"}], "]"}], ",", " ", 
         RowBox[{"xp", "[", 
          RowBox[{"\[Theta]", ",", " ", "\[Phi]"}], "]"}], ",", " ", 
         RowBox[{"rt", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
         RowBox[{"rt", "[", 
          RowBox[{"[", "2", "]"}], "]"}], ",", 
         RowBox[{
          RowBox[{"rt", "[", 
           RowBox[{"[", "1", "]"}], "]"}], ".", 
          RowBox[{"xt", "[", 
           RowBox[{"\[Theta]", ",", " ", "\[Phi]"}], "]"}]}], ",", " ", 
         RowBox[{
          RowBox[{"rt", "[", 
           RowBox[{"[", "2", "]"}], "]"}], ".", 
          RowBox[{"xp", "[", 
           RowBox[{"\[Theta]", ",", " ", "\[Phi]"}], "]"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"rt", "[", 
           RowBox[{"[", "2", "]"}], "]"}], ".", 
          RowBox[{"xt", "[", 
           RowBox[{"\[Theta]", ",", " ", "\[Phi]"}], "]"}]}], ",", " ", 
         RowBox[{
          RowBox[{"rt", "[", 
           RowBox[{"[", "1", "]"}], "]"}], ".", 
          RowBox[{"xp", "[", 
           RowBox[{"\[Theta]", ",", " ", "\[Phi]"}], "]"}]}]}], "}"}], " ", "//",
        " ", "TableForm"}], "  ", "//", " ", "TraditionalForm"}], " ", "//", 
     " ", "Simplify"}]}]}], " ", "\[IndentingNewLine]", "]"}]], "Input",
 CellChangeTimes->{{3.603310279248165*^9, 3.60331072884988*^9}, 
   3.6033109490554757`*^9, {3.6033110843252125`*^9, 3.6033111434615946`*^9}, {
   3.6033113083220243`*^9, 3.603311328022151*^9}}],

Cell[BoxData[
 FormBox[
  InterpretationBox[GridBox[{
     {
      RowBox[{
       RowBox[{"cos", "(", "\[Theta]", ")"}], " ", 
       RowBox[{"cos", "(", "\[Phi]", ")"}]}], 
      RowBox[{
       RowBox[{"cos", "(", "\[Theta]", ")"}], " ", 
       RowBox[{"sin", "(", "\[Phi]", ")"}]}], 
      RowBox[{"-", 
       RowBox[{"sin", "(", "\[Theta]", ")"}]}]},
     {
      RowBox[{
       RowBox[{"-", 
        RowBox[{"sin", "(", "\[Theta]", ")"}]}], " ", 
       RowBox[{"sin", "(", "\[Phi]", ")"}]}], 
      RowBox[{
       RowBox[{"sin", "(", "\[Theta]", ")"}], " ", 
       RowBox[{"cos", "(", "\[Phi]", ")"}]}], "0"},
     {
      RowBox[{
       RowBox[{"cos", "(", "\[Theta]", ")"}], " ", 
       RowBox[{"cos", "(", "\[Phi]", ")"}]}], 
      RowBox[{
       RowBox[{"cos", "(", "\[Theta]", ")"}], " ", 
       RowBox[{"sin", "(", "\[Phi]", ")"}]}], 
      RowBox[{"-", 
       RowBox[{"sin", "(", "\[Theta]", ")"}]}]},
     {
      RowBox[{
       RowBox[{"-", 
        RowBox[{"csc", "(", "\[Theta]", ")"}]}], " ", 
       RowBox[{"sin", "(", "\[Phi]", ")"}]}], 
      RowBox[{
       RowBox[{"csc", "(", "\[Theta]", ")"}], " ", 
       RowBox[{"cos", "(", "\[Phi]", ")"}]}], "0"},
     {"1", "\<\"\"\>", "\<\"\"\>"},
     {"1", "\<\"\"\>", "\<\"\"\>"},
     {"0", "\<\"\"\>", "\<\"\"\>"},
     {"0", "\<\"\"\>", "\<\"\"\>"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[2.0999999999999996`]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}],
   TableForm[{{
     Cos[$CellContext`\[Theta]] Cos[$CellContext`\[Phi]], 
      Cos[$CellContext`\[Theta]] Sin[$CellContext`\[Phi]], -
      Sin[$CellContext`\[Theta]]}, {-Sin[$CellContext`\[Theta]] 
      Sin[$CellContext`\[Phi]], Cos[$CellContext`\[Phi]] 
      Sin[$CellContext`\[Theta]], 0}, {
     Cos[$CellContext`\[Theta]] Cos[$CellContext`\[Phi]], 
      Cos[$CellContext`\[Theta]] Sin[$CellContext`\[Phi]], -
      Sin[$CellContext`\[Theta]]}, {-Csc[$CellContext`\[Theta]] 
      Sin[$CellContext`\[Phi]], Cos[$CellContext`\[Phi]] 
      Csc[$CellContext`\[Theta]], 0}, 1, 1, 0, 0}]], 
  TraditionalForm]], "Output",
 CellChangeTimes->{
  3.6033105165677385`*^9, {3.6033105589621634`*^9, 3.603310587878817*^9}, {
   3.603310639833789*^9, 3.6033107297359314`*^9}, {3.6033110952348366`*^9, 
   3.603311138894334*^9}, 3.603311199901823*^9, 3.6033113146563864`*^9}]
}, Open  ]]
},
WindowSize->{1405, 699},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
FrontEndVersion->"9.0 for Microsoft Windows (64-bit) (January 25, 2013)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 194, 4, 40, "Text"],
Cell[754, 26, 75, 2, 39, "Input"],
Cell[CellGroupData[{
Cell[854, 32, 3570, 91, 316, "Input"],
Cell[4427, 125, 2624, 67, 217, "Output"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
